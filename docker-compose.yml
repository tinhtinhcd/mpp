version: "2.1"

services:

  api:
    container_name: api
    image: "docker171085/listing_api"
    mem_limit: 1024m
    ports:
      - "8080:8080"
    environment:
      - SPRING_PROFILES_ACTIVE=dev
  postgres:
    container_name: pgdb
    image: postgres:9.6-alpine
    environment:
      - 'POSTGRES_ROOT_PASSWORD=postgres'
      - 'POSTGRES_USER=postgres'
      - 'POSTGRES_PASSWORD=postgres'
    ports:
      - "54321:5432"